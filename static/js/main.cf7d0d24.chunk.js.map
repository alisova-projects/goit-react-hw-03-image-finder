{"version":3,"sources":["Section.jsx","components/Searchbar/Searchbar.jsx","components/ApiService/ApiService.jsx","components/Context/Context.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/StartPage/StartPage.jsx","components/ImageFinder/ImageFinder.jsx","App.jsx","index.js"],"names":["Section","title","children","Gallery","state","pictureName","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","this","className","type","autoComplete","autoFocus","onChange","placeholder","Component","apiService","query","currentPage","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","createContext","ImageGallery","gallery","map","image","id","webformatURL","largeImageURL","previewURL","Consumer","hadleImageClick","src","data-src","alt","data-large","onClick","ImageGalleryItem","onBtnClick","LoaderSpinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handelBackdropClick","target","window","addEventListener","removeEventListener","createPortal","StartPage","ImageFinder","picture","isLoading","isModalOpen","selectedImgURL","handleImageClick","nodeName","fullImgLink","getAttribute","fetchPictures","images","prevState","catch","finally","onLoadMoreBtnClick","handleFormSubmit","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","toggleModal","body","style","overflowY","prevProps","Searchbar","length","Loader","Provider","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cf7d0d24.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Section({ title, children }) {\n  return (\n    <>\n      {title && <h1>{title}</h1>}\n      {children}\n    </>\n  );\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Section;\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Gallery extends Component {\n  state = {\n    pictureName: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ pictureName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.pictureName.trim() === '') {\n      return toast.error('Please, enter picture name');\n    }\n    this.props.onSubmit(this.state.pictureName);\n    this.setState({ pictureName: '' });\n  };\n\n  render() {\n    return (\n      <header onSubmit={this.handleSubmit} className=\"Searchbar\">\n        <form className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.pictureName}\n            onChange={this.handleNameChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Gallery;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '18992222-0ffbc097a98d577b6731791a7';\n\nconst apiService = (query, currentPage) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\napiService.propTypes = {\n  query: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default apiService;\n","import { createContext } from 'react';\n\nexport default createContext();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ gallery }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => ImageGalleryItem(image))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport authContext from '../Context';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  largeImageURL,\n  previewURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={`id-${id}`}>\n      <authContext.Consumer>\n        {hadleImageClick => (\n          <img\n            src={webformatURL}\n            data-src={previewURL}\n            alt=\"searchedPicture\"\n            data-large={largeImageURL}\n            className=\"ImageGalleryItem-image lazyload blur-up\"\n            onClick={hadleImageClick}\n          />\n        )}\n      </authContext.Consumer>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  previewURL: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction onBtnClick({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nonBtnClick.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default onBtnClick;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nfunction LoaderSpinner() {\n  return (\n    <Loader\n      className=\"Loader App-logo\"\n      type=\"ThreeDots\"\n      color=\"#11BFFF\"\n      height={300}\n      width={300}\n      timeout={3000}\n    />\n  );\n}\n\nexport default LoaderSpinner;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handelBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Modal__backdrop\" onClick={this.handelBackdropClick}>\n        <div className=\"Modal__content\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nexport default function StartPage() {\n  return (\n    <div>\n      <h2 className=\"StartPage-header\">\n        Thousands of pictures is waiting for you, just try to type something...\n      </h2>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from '../Searchbar';\nimport apiService from '../ApiService';\nimport ImageGallery from '../ImageGallery';\nimport OnLoadMoreBtnClick from '../Button';\nimport LoaderSpinner from '../Loader';\nimport authContext from '../Context';\nimport Modal from '../Modal';\nimport StartPage from '../StartPage';\n\nclass ImageFinder extends Component {\n  state = {\n    pictureName: '',\n    picture: null,\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    gallery: [],\n    isModalOpen: false,\n    selectedImgURL: '',\n\n    handleImageClick: e => {\n      if (e.target.nodeName !== 'IMG') {\n        return;\n      }\n\n      e.preventDefault();\n      const fullImgLink = e.target.getAttribute('data-large');\n      this.setState({\n        selectedImgURL: fullImgLink,\n        isModalOpen: true,\n      });\n    },\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.pictureName;\n    const nextName = this.state.pictureName;\n\n    if (prevName !== nextName) {\n      this.fetchPictures();\n    }\n  }\n\n  fetchPictures = () => {\n    const { pictureName, currentPage } = this.state;\n\n    this.setState({ isLoading: true });\n\n    apiService(pictureName, currentPage)\n      .then(images => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.onLoadMoreBtnClick();\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName });\n  };\n\n  handleSubmit = query => {\n    if (query !== this.state.pictureName) {\n      this.setState({\n        gallery: [],\n        pictureName: query,\n        currentPage: 1,\n        error: null,\n      });\n    }\n  };\n\n  onLoadMoreBtnClick = () => {\n    if (this.state.currentPage > 2) {\n      const options = {\n        top: null,\n        behavior: 'smooth',\n      };\n\n      options.top = window.pageYOffset + document.documentElement.clientHeight;\n      setTimeout(() => {\n        window.scrollTo(options);\n      }, 1000);\n    }\n  };\n\n  toggleModal = () => {\n    this.setState({\n      isModalOpen: !this.state.isModalOpen,\n    });\n\n    if (this.state.isModalOpen) {\n      document.body.style.overflowY = 'hidden';\n    }\n  };\n\n  render() {\n    const {\n      gallery,\n      pictureName,\n      handleImageClick,\n      isModalOpen,\n      selectedImgURL,\n      isLoading,\n    } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {gallery.length === 0 && <StartPage />}\n        <ToastContainer />\n        <div className=\"Wrapper\">{isLoading && <LoaderSpinner />}</div>\n        <authContext.Provider value={handleImageClick}>\n          {pictureName && <ImageGallery gallery={gallery} />}\n        </authContext.Provider>\n\n        {isModalOpen && (\n          <Modal onClose={this.toggleModal}>\n            <img src={selectedImgURL} alt=\"fullsizeImage\"></img>\n          </Modal>\n        )}\n        <div className=\"BtnWrapper\">\n          {pictureName && gallery.length > 11 && (\n            <OnLoadMoreBtnClick onClick={this.fetchPictures} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ImageFinder;\n","// import react from 'react';\nimport Section from './Section';\nimport ImageFinder from './components/ImageFinder';\n\nexport default function App() {\n  return (\n    <Section>\n      <ImageFinder />\n    </Section>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}